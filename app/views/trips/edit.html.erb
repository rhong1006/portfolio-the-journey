<h1>Editing Trip</h1>

<%= render 'form', trip: @trip %>
<%= link_to 'Show', @trip %> |
<%= link_to 'Back', trips_path %>

<div class="row">
<div id="routes" class="col-3"><h3>Your Routes</h3>
</div>
<div class="col-9">
  <div class="latlng"></div>
  <div id="floating-panel">
    <input id="address" type="textbox" value="Sydney, NSW">
    <input id="submit" type="button" value="Geocode">
  </div>
  <div id="map" data-tripid="<%= @trip.id %>" data-clickable="true"></div>
</div>
</div>

<div>
  <%= form_for @trip do |f| %>
    <div class="form-group">
      <%= f.label :tag_list %>
      <%= f.text_field :tag_list, value: f.object.tag_list.to_s %>
    </div>
    <%= f.submit 'Tags!', class:"btn btn-primary"%>
  <% end %>
</div>


<div id="addForm" style="display:none">
  <%= form_for @route, url: trip_routes_path(@trip)  do |f| %>
    <div class="form-group">
      <%= f.label :start_date %>
      <%= f.text_field :start_date, data:{ provide:'datepicker' } %>
    </div>
    <%= f.submit 'Sign In!', class:"btn btn-primary"%>
  <% end %>
</div>

<%= javascript_include_tag 'features/dom' %>
<%= javascript_include_tag 'features/map' %>
<script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['GOOGLE_MAP_API_SECRET'] %>&callback=initMap"
async defer></script>
